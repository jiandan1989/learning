## 单例模式 {docsify-ignore}

> 单例模式, 也叫单子模式, 是一种常用的设计模式, 属于创建型模式的一种,单例对象的类必须保证只有一个实例存在, 如果不存在就创建了再返回, 确保只有一个实例对象, 在 Javascript 里, 单例作为一个空间命名提供这, 从全局命名空间里提供一个唯一的访问点来访问该对象

<!-- > 比如说 在购买房子时, 命名空间指的就是各个户主的名字, 而之间的通讯是通过各个房子的门进行, 保护对象内的属性和方法

> 比如在页面中有一个弹框, 且弹框在全局只能存在一个 -->

### 注意事项

- 单例模式在多线程的应用场合下必须小心使用, 如果当唯一实例尚未创建时, 有两个线程同时调用创建方法, 那么他们同时没有检测到唯一实例的存在, 从而同时各自创建了一个实例, 这样就有两个实例被构造出来, 从而违反了单例模式中实例唯一的原则
- 系统中某个类的对象只能存在一个(比如身份证和人的对应关系, 一个身份证只能对应一个人, 一个人就是一个单例)
- 保护自己的属性和方法(比如定义变量时, `x` 和 `y`下的`a`虽然都一样但是并不相同)
- `this`的使用(最终谁调用时, 就指向谁)
- 闭包(获取到原来不应该获取的东西)容易造成内存泄露, 不需要的赶快干掉, 比如间谍(出卖了本不应该出卖的资料)
- `new`的成本

> 假设在开发的过程中, 全局只允许存在一个弹框或者 `loading`状态存在

[](Singleton.js ' :include :type=code')

### 参考

- [Software design pattern](https://en.wikipedia.org/wiki/Software_design_pattern)
- [Singleton Pattern](http://wiki.c2.com/?SingletonPattern)
- [极客学院]()
- [维基百科](https://zh.wikipedia.org/wiki/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F)
